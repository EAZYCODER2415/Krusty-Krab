<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="keywords" content="krusty krab, spongebob, spongebob squarepants, krabby patty, krusty krab website">
        <meta name="description" content="Serving for over 25 years, the Krusty Krab is Bikini Bottom's premier destination for mouthwatering underwater fast food. We boast a menu with the most delectable under-the-sea delights, with food quality served in a lively nautical atmosphere and top-notch service which is what the Krusty Krab's known to deliver. Order up for an unforgettable experience where every bite is a taste of Bikini Bottom bliss, come spend your money here!">
          <title>
              Krusty Krab - Menu
          </title>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
        <script>
            let userCart = JSON.parse(localStorage.getItem("cart")) || [];
            let htmlContent = localStorage.getItem("content") || "";
            let totalPrice = localStorage.getItem("total-price") || "$0"; 
            let totalQuantity = localStorage.getItem("total-quantity") || 0;
            window.onload = function() {
                loadData();
                function loadData() {
                    document.getElementById("cart-items").innerHTML = htmlContent;
                    document.getElementById("total-price").innerHTML = totalPrice;
                    document.getElementById("cartsize").innerHTML = totalQuantity;
                };
            }
            
            const foodItems = ["krabby-patty", "coral-bits", "barnacle-loaf", "jelly-patty", "kelp-jerky", "pretty-patty", "krusty-pizza", "pizza-patty", "krabby-meal", "krusty-kelp-dog", "buttered-barnacles", "nachos", "krabby-newburg", "kelp-rings", "swedish-barnacle-balls", "pipsqueak-patty", "krusty-kid-meal", "spongebob-sundae", "jelly-cake", "kelp-shake", "krusty-soda"];
            const foodNames = ["Krabby Patty", "Coral Bits", "Barnacle Loaf", "Jelly Patty", "Kelp Jerky", "Pretty Patty", "Krusty Pizza", "Pizza Patty", "Krabby Meal", "Krusty Kelp Dog", "Buttered Barnacles", "Nachos", "Krabby Newburg", "Kelp Rings", "Swedish Barnacle Balls", "Pipsqueak Patty", "Krusty Kid's Meal", "Spongebob's Sundae", "Jelly Cake", "Kelp Shake", "Krusty Soda"];
            const foodPrices = [16, 8, 12, 17, 5, 18, 17, 19, 25, 14, 17, 13, 30, 13, 8, 7, 10, 7, 10, 10, 9];

            function proceedOrder() {
                if (userCart.length != 0) {
                    location.href = 'delivery.html';
                } else {
                    alert("Fill your cart, you haven't bought anything yet!");
                }
            }
            
            function addtoCart(foodMenu) {
                var itemPresent = false;
                if (userCart.length == 0) {
                    itemPresent = false;
                } else {
                    for (let i = 0; i < userCart.length; i++) {
                        if (userCart[i][0] === foodMenu) {
                            itemPresent = true;
                            break;
                        } else {
                            itemPresent = false;
                        }
                    }
                }
                if (itemPresent) {
                    increment(foodMenu);
                } else {
                    var fooditem = "";
                    var foodname = "";
                    var foodprice = 0;
                    var foodquantity = 0;
                    for (let i = 0; i < foodItems.length; i++) {
                        if (foodMenu == foodItems[i]) {
                            fooditem = foodItems[i];
                            foodname = foodNames[i];
                            foodprice = foodPrices[i];
                            foodquantity = 1;
                            userCart.push([fooditem, foodname, foodprice, foodquantity]);
                            break;
                        }
                    }
                    let newItem = `<div class="item" id="${fooditem}-div"><div class="The-item"><h3 id="${fooditem}-name">${foodname}</h3></div><div class="quantity-n-price"><i class="fa fa-minus" onclick="decrement('${fooditem}')"></i><span id="${fooditem}-quantity">${foodquantity}</span><i class="fa fa-plus" onclick="increment('${fooditem}')"></i><h3 id="${fooditem}-price">$${foodprice}</h3></div></div>`;
                    document.getElementById("cart-items").insertAdjacentHTML('beforeend', newItem);
                    updateCart();
                }
            }

            function clearCart() {
                document.getElementById("cart-items").innerHTML = "";
                userCart = [];
                updateCart();
            }

            function decrement(fooditems) {
                var number = document.getElementById(`${fooditems}-quantity`);
                var quantity = Number(number.innerHTML);
                quantity--;
                number.innerHTML = quantity;
                for (let i = 0; i < userCart.length; i++) {
                    if (userCart[i][0] === fooditems) {
                        var index = i;
                        break;
                    }
                }
                userCart[index][3] = quantity;
                if (quantity == 0) {
                    removefromCart(fooditems);
                } else {
                    var price = document.getElementById(`${fooditems}-price`);
                    var quantityoffood = userCart[index][3];
                    var priceoffood = userCart[index][2];
                    var priceValue = priceoffood * quantityoffood;
                    price.innerHTML = "$" + priceValue;
                }
                updateCart();
            }

            function increment(fooditems) {
                var number = document.getElementById(`${fooditems}-quantity`);
                var quantity = Number(number.innerHTML);
                quantity++;
                number.innerHTML = quantity;
                for (let i = 0; i < userCart.length; i++) {
                    if (userCart[i][0] === fooditems) {
                        var index = i;
                        break;
                    }
                }
                userCart[index][3] = quantity;
                var price = document.getElementById(`${fooditems}-price`);
                var quantityoffood = userCart[index][3];
                var priceoffood = userCart[index][2];
                var priceValue = priceoffood * quantityoffood;
                price.innerHTML = "$" + priceValue;
                updateCart();
            }

            function removefromCart(f2) {
                var element = document.getElementById(`${f2}-div`);
                element.remove();
                for (let i = 0; i < userCart.length; i++) {
                    if (userCart[i][0] === f2) {
                        var index = i;
                        break;
                    }
                }
                if (index > -1) {
                    userCart.splice(index, 1);
                }
                updateCart();
            }

            function updateCart() {
                var y = document.getElementById("cartsize");
                var cartcount = 0;
                if (userCart == []) {
                    y.innerHTML = cartcount;
                } else {
                    for (let i = 0; i < userCart.length; i++) {
                        cartcount += userCart[i][3];
                    }
                    y.innerHTML = cartcount;
                }
                var z = document.getElementById("total-price");
                var total = 0;
                if (userCart == []) {
                    z.innerHTML = "$" + total;
                } else {
                    for (let i = 0; i < userCart.length; i++) {
                        total += userCart[i][3] * userCart[i][2];
                    }
                    z.innerHTML = "$" + total;
                }
                localStorage.setItem("cart", JSON.stringify(userCart));
                localStorage.setItem("content", document.getElementById("cart-items").innerHTML);
                localStorage.setItem("total-price", z.innerHTML);
                localStorage.setItem("total-quantity", y.innerHTML);
            }
            
            function navIcon() {
                var x = document.getElementById("myTopnav");
                if (x.className === "topnav") {
                    x.className += " responsive";
                } else {
                    x.className = "topnav";
                }
            }

            function orderCart() {
                var x = document.getElementById("cart");
                if (x.className === "cart") {
                    x.className += " visible";
                } else {
                    x.className = "cart";
                }
                var y = document.getElementById("overlay");
                if (y.className === "overlay") {
                    y.className += " visible";
                } else {
                    y.className = "overlay";
                }
                var z = document.getElementById("body");
                if (z.className === "body") {
                    z.className += " locked";
                } else {
                    z.className = "body";
                }
            }
        </script>
        <link rel="icon" type="image/x-icon" href="../media/site_icon.ico">
        <link href="../style.css" rel="stylesheet">
    </head>
    <body class="body" id="body">
        <header id="home">
            <div class="container">
                <div class="child null"></div>
                <div class="child">
                    <a href="../index.html"><img src="../media/Krusty_Krab_logo.jpeg" alt="logo" class="krusty"></a>
                </div>
                <div class="child null">
                    <div class="interactive">
                        <a onclick="orderCart()" style="margin-right: 7.5px;"><i class="fa fa-shopping-cart"></i></a>
                        <span style="font-size: 25px; color: red;" id="cartsize">0</span>
                        <a href="#contact" style="margin: 0 20px;"><i class="fa fa-map-marker"></i></a>
                    </div>
                </div>
                <div class="cart" id="cart">
                    <div class="cart-header">
                        <h1>My Cart</h1>
                        <button onclick="orderCart()" class="close-button"><i class="fa fa-times"></i></button>
                    </div>
                    <div class="cart-content">
                        <div id="cart-items"></div>
                        <div class="item" style="background-color: #fff;">
                            <div class="The-item">
                                <h3>Total</h3>
                            </div>
                            <div class="quantity-n-price">
                                <h3 id="total-price">$0</h3>
                            </div>
                        </div>
                        <div class="item" style="background-color: #fff;">
                            <div class="The-item">
                                <button onclick="clearCart()">Clear</button>
                            </div>
                            <div class="quantity-n-price">
                                <button onclick="proceedOrder()">Proceed</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="overlay" class="overlay"></div>
            </div>
        </header>
        <nav>
            <div class="topnav" id="myTopnav">
                <a href="../index.html">Home</a>
                <a href="about.html">About Us</a>
                <a href="menu.html" class="active">Menu</a>
                <a href="promos.html">Promotions</a>
                <a href="jobs.html">Careers</a>
                <a href="news.html">Newsletter</a>
                <a href="javascript:void(0);" class="icon" onclick="navIcon()">
                    <i class="fa fa-bars"></i>
                </a>
            </div>
        </nav>
        <main>
            <section class="header">
                <h1>Galley Grub</h1>
                <h2>-- Menu --</h2>
            </section>
            <section class="menu">
                <h1>Main Course</h1>
                <br>
                <div class="food-card-container shop" id="shop">
                    <div class="food-card">
                        <div class="food-card-image img-4"></div>
                        <div class="food-card-header">
                            <h2>Krabby Patty</h2>
                            <h2 class="price">$16</h2>
                        </div>
                        <p>The Krusty Krab's well-known secret formula burger beloved by all fish!</p>
                        <button onclick="addtoCart('krabby-patty')">Add to Cart</button>
                    </div>
                    <div class="food-card">
                        <div class="food-card-image img-5"></div>
                        <div class="food-card-header">
                            <h2>Pretty Patty</h2>
                            <h2 class="price">$18</h2>
                        </div>
                        <p>Colored Krabby Patties with its distinct flavor of each color, a rainbowed patty set!</p>
                        <button onclick="addtoCart('pretty-patty')">Add to Cart</button>
                    </div>
                    <div class="food-card">
                        <div class="food-card-image img-6"></div>
                        <div class="food-card-header">
                            <h2>Jelly Patty</h2>
                            <h2 class="price">$17</h2>
                        </div>
                        <p>A unique Krabby Patty with an additional jellyfish jelly topping, slimy and tasty!</p>
                        <button onclick="addtoCart('jelly-patty')">Add to Cart</button>
                    </div>
                </div>
                <br>
                <div class="food-card-container shop" id="shop">
                    <div class="food-card">
                        <div class="food-card-image img-7"></div>
                        <div class="food-card-header">
                            <h2>Krusty Pizza</h2>
                            <h2 class="price">$17</h2>
                        </div>
                        <p>The Krusty Krab-style pepperoni pizza made from mashed Krusty dough and exquisite cheese.</p>
                        <button onclick="addtoCart('krusty-pizza')">Add to Cart</button>
                    </div>
                    <div class="food-card">
                        <div class="food-card-image img-8"></div>
                        <div class="food-card-header">
                            <h2>Pizza Patty</h2>
                            <h2 class="price">$19</h2>
                        </div>
                        <p>A Krabby Patty with a geniunely sized Krusty Pizza, order if you dare to finish it.</p>
                        <button onclick="addtoCart('pizza-patty')">Add to Cart</button>
                    </div>
                    <div class="food-card">
                        <div class="food-card-image img-9"></div>
                        <div class="food-card-header">
                            <h2>Krabby Meal</h2>
                            <h2 class="price">$25</h2>
                        </div>
                        <p>A full set of Krabby Patties and fries, a perfect option to complete a meal!</p>
                        <button onclick="addtoCart('krabby-meal')">Add to Cart</button>
                    </div>
                </div>
                <br>
                <div class="food-card-container shop" id="shop">
                    <div class="food-card">
                        <div class="food-card-image img-16"></div>
                        <div class="food-card-header">
                            <h2>Krabby Newburg</h2>
                            <h2 class="price">$30</h2>
                        </div>
                        <p>The Krusty Krab's only classy steak dish (won't include the whole details).</p>
                        <button onclick="addtoCart('krabby-newburg')">Add to Cart</button>
                    </div>
                </div>
                <br>
                <h1>Side Dishes</h1>
                <br>
                <div class="food-card-container">
                    <div class="food-card">
                        <div class="food-card-image img-10"></div>
                        <div class="food-card-header">
                            <h2>Krusty Kelp Dog</h2>
                            <h2 class="price">$14</h2>
                        </div>
                        <p>The Krusty Dog with a mix of vegan kelp, go ahead and try it vegans!</p>
                        <button onclick="addtoCart('krusty-kelp-dog')">Add to Cart</button>
                    </div>
                    <div class="food-card">
                        <div class="food-card-image img-11"></div>
                        <div class="food-card-header">
                            <h2>Buttered Barnacles</h2>
                            <h2 class="price">$17</h2>
                        </div>
                        <p>Soft dough from barnacles made to look like pancakes with butter on top!</p>
                        <button onclick="addtoCart('buttered-barnacles')">Add to Cart</button>
                    </div>
                    <div class="food-card">
                        <div class="food-card-image img-12"></div>
                        <div class="food-card-header">
                            <h2>Barnacle Loaf</h2>
                            <h2 class="price">$12</h2>
                        </div>
                        <p>Learn more about our rich history and how the Krusty Krab came to be today!</p>
                        <button onclick="addtoCart('barnacle-loaf')">Add to Cart</button>
                    </div>
                </div>
                <br>
                <h1>Appetizers</h1>
                <br>
                <div class="food-card-container">
                    <div class="food-card">
                        <div class="food-card-image img-13"></div>
                        <div class="food-card-header">
                            <h2>Nachos</h2>
                            <h2 class="price">$13</h2>
                        </div>
                        <p>An under-the-sea Mexican dish consisting of tortilla chips and totopos, can be found near the Pacific Ocean.</p>
                        <button onclick="addtoCart('nachos')">Add to Cart</button>
                    </div>
                    <div class="food-card">
                        <div class="food-card-image img-14"></div>
                        <div class="food-card-header">
                            <h2>Coral Bits</h2>
                            <h2 class="price">$8</h2>
                        </div>
                        <p>Crispy bits of pale pink corals with sweet flavor and exquisite taste.</p>
                        <button onclick="addtoCart('coral-bits')">Add to Cart</button>
                    </div>
                    <div class="food-card">
                        <div class="food-card-image img-15"></div>
                        <div class="food-card-header">
                            <h2>Kelp Rings</h2>
                            <h2 class="price">$13</h2>
                        </div>
                        <p>Deep-fried kelp shaped as rings, like the Onion Rings.</p>
                        <button onclick="addtoCart('kelp-rings')">Add to Cart</button>
                    </div>
                </div>
                <br>
                <h1>Snacks, Kids Menu, Dessert</h1>
                <br>
                <div class="food-card-container">
                    <div class="food-card">
                        <div class="food-card-image img-17"></div>
                        <div class="food-card-header">
                            <h2>Kelp Jerky</h2>
                            <h2 class="price">$5</h2>
                        </div>
                        <p>A spoof of beef jerky in a snack bag, enjoy your treat!</p>
                        <button onclick="addtoCart('kelp-jerky')">Add to Cart</button>
                    </div>
                    <div class="food-card">
                        <div class="food-card-image img-18"></div>
                        <div class="food-card-header">
                            <h2>Pipsqueak Patty</h2>
                            <h2 class="price">$7</h2>
                        </div>
                        <p>Fear of the Krabby Patty not fitting in your stomach? Here's a kids size Krabby Patty!</p>
                        <button onclick="addtoCart('pipsqueak-patty')">Add to Cart</button>
                    </div>
                    <div class="food-card">
                        <div class="food-card-image img-19"></div>
                        <div class="food-card-header">
                            <h2>Krusty Kid's Meal</h2>
                            <h2 class="price">$10</h2>
                        </div>
                        <p>A Krabby Meal specially designed for children aged less than 13.</p>
                        <button onclick="addtoCart('krusty-kid-meal')">Add to Cart</button>
                    </div>
                </div>
                <br>
                <div class="food-card-container">
                    <div class="food-card">
                        <div class="food-card-image img-20"></div>
                        <div class="food-card-header">
                            <h2>Spongebob's Sundae</h2>
                            <h2 class="price">$8</h2>
                        </div>
                        <p>An ice cream sundae made by Spongebob. Be careful, it's too smelly for customers!</p>
                        <button onclick="addtoCart('spongebob-sundae')">Add to Cart</button>
                    </div>
                    <div class="food-card">
                        <div class="food-card-image img-21"></div>
                        <div class="food-card-header">
                            <h2>Swedish Barnacle Balls</h2>
                            <h2 class="price">$7</h2>
                        </div>
                        <p>Swedish barnacle meatballs in a can, enjoy it!</p>
                        <button onclick="addtoCart('swedish-barnacle-balls')">Add to Cart</button>
                    </div>
                    <div class="food-card">
                        <div class="food-card-image img-22"></div>
                        <div class="food-card-header">
                            <h2>Jelly Cake</h2>
                            <h2 class="price">$10</h2>
                        </div>
                        <p>A special dessert for jelly lovers, enjoy the taste!</p>
                        <button onclick="addtoCart('jelly-cake')">Add to Cart</button>
                    </div>
                </div>
                <br>
                <h1>Beverages</h1>
                <br>
                <div class="food-card-container">
                    <div class="food-card">
                        <div class="food-card-image img-23"></div>
                        <div class="food-card-header">
                            <h2>Kelp Shake</h2>
                            <h2 class="price">$10</h2>
                        </div>
                        <p>A secret formula soft drink made out of kelp! Don't drink too much though...</p>
                        <button onclick="addtoCart('kelp-shake')">Add to Cart</button>
                    </div>
                    <div class="food-card">
                        <div class="food-card-image img-24"></div>
                        <div class="food-card-header">
                            <h2>Krusty Soda</h2>
                            <h2 class="price">$9</h2>
                        </div>
                        <p>The Krusty Krab's trademark soda drink made out of seafoam!</p>
                        <button onclick="addtoCart('krusty-soda')">Add to Cart</button>
                    </div>
                </div>
            </section>
        </main>
        <footer id="contact" class="contact">
            <div class="container">
                <div class="child">
                    <h2 class="heading" style="margin-bottom: 15px;">Drop Us a MESSAGE!</h2>
                    <form action="https://formsubmit.co/thames2415@gmail.com" style="text-align: left;" method="post">
                        <input type="text" name="name" placeholder="Name" required="true">
                        <input type="email" name="email" placeholder="Email" required="true">
                        <br>
                        <input type="text" name="_subject" placeholder="Subject" required="true">
                        <br>
                        <textarea rows="10" cols="54" name="message" placeholder="Content" required="true"></textarea>
                        <input type="hidden" name="_template" value="basic">
                        <br>
                        <figure id="loading2" class="loading2">
                            <img class="loading" src="/media/loading.gif" alt="loading">
                            <figcaption>This may take a while...</figcaption>
                        </figure>
                        <button type="reset" style="color: #fff;
                            background-color: #9c0924;">Reset</button>
                        <button type="submit" style="color: #fff; background-color: #31dea1;" onclick="this.form.submit(); this.disabled=true; var x = document.getElementById('loading2'); if (x.className === 'loading2') { x.className += ' visible'; } else { x.className = 'loading2';}">Send</button>
                    </form>
                </div>
                <div class="child">
                    <h1>The Krusty Krab</h1>
                    <br>
                    <h2 style="font-size: 15px;">The following website is a fan project based from the Spongebob Squarepants franchise. The Krusty Krab, Spongebob Squarepants, Krabby Patty, and all other names rooted from the Spongebob Squarepants franchise own all the rights to this project. Please support the official release.</h2>
                    <br>
                    <a href="#home">Back to Top</a>
                    <br>
                    <h2 style="margin-top: 20px;">Address</h2>
                    <p class="address">831 Bottom Feeder Lane, <br>Bikini Bottom, Pacific Ocean <br>(11.6065° N, 165.3768° E)</p>
                </div>
                <div class="child">
                    <h2>Know Us More</h2>
                    <ul>
                        <li><a href="https://www.facebook.com/TheKrustyKrabOfficial/"><i class="fa fa-facebook-official"></i> Facebook</a></li>
                        <li><a href="https://spongebob.fandom.com/wiki/Encyclopedia_SpongeBobia"><i class="fa fa-wikipedia-w"></i> Spongebob Wiki</a></li>
                        <li><a href="https://www.youtube.com/@NickelodeonUK"><i class="fa fa-youtube-play"></i> Nickelodeon</a></li>
                    </ul>
                </div>
            </div>
        </footer>
    </body>
</html>